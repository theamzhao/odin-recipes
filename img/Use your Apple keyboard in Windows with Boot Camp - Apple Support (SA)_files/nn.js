/*! For license information please see nn.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.NN=t():e.NN=t()}(this,(function(){return function(){var e={989:function(e,t,n){e.exports=function(){"use strict";function e(e){return"function"==typeof e}function t(){var e=setTimeout;return function(){return e(r,1)}}function r(){for(var e=0;e<m;e+=2)(0,P[e])(P[e+1]),P[e]=void 0,P[e+1]=void 0;m=0}function a(e,t){var n=this,r=new this.constructor(i);void 0===r[E]&&g(r);var a=n._state;if(a){var o=arguments[a-1];_((function(){return d(a,r,o,n._result)}))}else p(n,r,e,t);return r}function o(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(i);return s(t,e),t}function i(){}function c(t,n,r){n.constructor===t.constructor&&r===a&&n.constructor.resolve===o?function(e,t){t._state===N?l(e,t._result):t._state===j?f(e,t._result):p(t,void 0,(function(t){return s(e,t)}),(function(t){return f(e,t)}))}(t,n):void 0===r?l(t,n):e(r)?function(e,t,n){_((function(e){var r=!1,a=function(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}(n,t,(function(n){r||(r=!0,t!==n?s(e,n):l(e,n))}),(function(t){r||(r=!0,f(e,t))}),e._label);!r&&a&&(r=!0,f(e,a))}),e)}(t,n,r):l(t,n)}function s(e,t){if(e===t)f(e,new TypeError("You cannot resolve a promise with itself"));else if(function(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}(t)){var n=void 0;try{n=t.then}catch(t){return void f(e,t)}c(e,t,n)}else l(e,t)}function u(e){e._onerror&&e._onerror(e._result),h(e)}function l(e,t){e._state===A&&(e._result=t,e._state=N,0!==e._subscribers.length&&_(h,e))}function f(e,t){e._state===A&&(e._state=j,e._result=t,_(u,e))}function p(e,t,n,r){var a=e._subscribers,o=a.length;e._onerror=null,a[o]=t,a[o+N]=n,a[o+j]=r,0===o&&e._state&&_(h,e)}function h(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,a=void 0,o=e._result,i=0;i<t.length;i+=3)r=t[i],a=t[i+n],r?d(n,r,a,o):a(o);e._subscribers.length=0}}function d(t,n,r,a){var o=e(r),i=void 0,c=void 0,u=!0;if(o){try{i=r(a)}catch(t){u=!1,c=t}if(n===i)return void f(n,new TypeError("A promises callback cannot return that same promise."))}else i=a;n._state!==A||(o&&u?s(n,i):!1===u?f(n,c):t===N?l(n,i):t===j&&f(n,i))}function g(e){e[E]=L++,e._state=void 0,e._result=void 0,e._subscribers=[]}var v;v=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var y=v,m=0,w=void 0,b=void 0,_=function(e,t){P[m]=e,P[m+1]=t,2===(m+=2)&&(b?b(r):x())},T="undefined"!=typeof window?window:void 0,O=T||{},k=O.MutationObserver||O.WebKitMutationObserver,S="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),D="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,P=new Array(1e3),x=void 0;x=S?function(){return process.nextTick(r)}:k?function(){var e=0,t=new k(r),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}():D?function(){var e=new MessageChannel;return e.port1.onmessage=r,function(){return e.port2.postMessage(0)}}():void 0===T?function(){try{var e=Function("return this")().require("vertx");return void 0!==(w=e.runOnLoop||e.runOnContext)?function(){w(r)}:t()}catch(e){return t()}}():t();var E=Math.random().toString(36).substring(2),A=void 0,N=1,j=2,L=0,q=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(i),this.promise[E]||g(this.promise),y(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?l(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&l(this.promise,this._result))):f(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===A&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===o){var s=void 0,u=void 0,l=!1;try{s=e.then}catch(e){l=!0,u=e}if(s===a&&e._state!==A)this._settledAt(e._state,t,e._result);else if("function"!=typeof s)this._remaining--,this._result[t]=e;else if(n===I){var p=new n(i);l?f(p,u):c(p,e,s),this._willSettleAt(p,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(r(e),t)},e.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===A&&(this._remaining--,e===j?f(r,n):this._result[t]=n),0===this._remaining&&l(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;p(e,void 0,(function(e){return n._settledAt(N,t,e)}),(function(e){return n._settledAt(j,t,e)}))},e}(),I=function(){function t(e){this[E]=L++,this._result=this._state=void 0,this._subscribers=[],i!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t((function(t){s(e,t)}),(function(t){f(e,t)}))}catch(t){f(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var n=this,r=n.constructor;return e(t)?n.then((function(e){return r.resolve(t()).then((function(){return e}))}),(function(e){return r.resolve(t()).then((function(){throw e}))})):n.then(t,t)},t}();return I.prototype.then=a,I.all=function(e){return new q(this,e).promise},I.race=function(e){var t=this;return new t(y(e)?function(n,r){for(var a=e.length,o=0;o<a;o++)t.resolve(e[o]).then(n,r)}:function(e,t){return t(new TypeError("You must pass an array to race."))})},I.resolve=o,I.reject=function(e){var t=new this(i);return f(t,e),t},I._setScheduler=function(e){b=e},I._setAsap=function(e){_=e},I._asap=_,I.polyfill=function(){var e=void 0;if(void 0!==n.g)e=n.g;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=I},I.Promise=I,I}()},61:function(e,t,n){var r=n(698).default;function a(){"use strict";e.exports=a=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,o=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},c=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new D(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=O(i,n);if(c){if(c===h)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=p(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===h)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),o}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var h={};function d(){}function g(){}function v(){}var y={};l(y,c,(function(){return this}));var m=Object.getPrototypeOf,w=m&&m(m(P([])));w&&w!==n&&o.call(w,c)&&(y=w);var b=v.prototype=d.prototype=Object.create(y);function _(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(a,i,c,s){var u=p(e[a],e,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==r(f)&&o.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,c,s)}),(function(e){n("throw",e,c,s)})):t.resolve(f).then((function(e){l.value=e,c(l)}),(function(e){return n("throw",e,c,s)}))}s(u.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function O(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=p(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,h;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function P(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:x}}function x(){return{value:void 0,done:!0}}return g.prototype=v,l(b,"constructor",v),l(v,"constructor",g),g.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},t.awrap=function(e){return{__await:e}},_(T.prototype),l(T.prototype,s,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new T(f(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(b),l(b,u,"Generator"),l(b,c,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=P,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),s=o.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;S(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:P(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},687:function(e,t,n){var r=n(61)();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return function(){"use strict";function e(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}}(e,n)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}n.r(r),n.d(r,{default:function(){return Ce}});var c,s,u,l,f=n(687),p=n.n(f),h=-1,d=function(e){addEventListener("pageshow",(function(t){t.persisted&&(h=t.timeStamp,e(t))}),!0)},g=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},v=function(){var e=g();return e&&e.activationStart||0},y=function(e,t){var n=g(),r="navigate";return h>=0?r="back-forward-cache":n&&(r=document.prerendering||v()>0?"prerender":n.type.replace(/_/g,"-")),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},m=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver((function(e){t(e.getEntries())}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(e){}},w=function(e,t){var n=function n(r){"pagehide"!==r.type&&"hidden"!==document.visibilityState||(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},b=function(e,t,n,r){var a,o;return function(i){t.value>=0&&(i||r)&&((o=t.value-(a||0))||void 0===a)&&(a=t.value,t.delta=o,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,n),e(t))}},_=-1,T=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},O=function(){w((function(e){var t=e.timeStamp;_=t}),!0)},k=function(){return _<0&&(_=T(),O(),d((function(){setTimeout((function(){_=T(),O()}),0)}))),{get firstHiddenTime(){return _}}},S=function(e,t){t=t||{};var n,r=[1800,3e3],a=k(),o=y("FCP"),i=function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(s&&s.disconnect(),e.startTime<a.firstHiddenTime&&(o.value=e.startTime-v(),o.entries.push(e),n(!0)))}))},c=window.performance&&window.performance.getEntriesByName&&window.performance.getEntriesByName("first-contentful-paint")[0],s=c?null:m("paint",i);(c||s)&&(n=b(e,o,r,t.reportAllChanges),c&&i([c]),d((function(a){o=y("FCP"),n=b(e,o,r,t.reportAllChanges),requestAnimationFrame((function(){requestAnimationFrame((function(){o.value=performance.now()-a.timeStamp,n(!0)}))}))})))},D=!1,P=-1,x={passive:!0,capture:!0},E=new Date,A=function(e,t){c||(c=t,s=e,u=new Date,L(removeEventListener),N())},N=function(){if(s>=0&&s<u-E){var e={entryType:"first-input",name:c.type,target:c.target,cancelable:c.cancelable,startTime:c.timeStamp,processingStart:c.timeStamp+s};l.forEach((function(t){t(e)})),l=[]}},j=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){A(e,t),a()},r=function(){a()},a=function(){removeEventListener("pointerup",n,x),removeEventListener("pointercancel",r,x)};addEventListener("pointerup",n,x),addEventListener("pointercancel",r,x)}(t,e):A(t,e)}},L=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,j,x)}))},q={},I=function e(t){document.prerendering?addEventListener("prerenderingchange",(function(){return e(t)}),!0):"complete"!==document.readyState?addEventListener("load",(function(){return e(t)}),!0):setTimeout(t,0)},C=function(e,t){t=t||{};var n=[800,1800],r=y("TTFB"),a=b(e,r,n,t.reportAllChanges);I((function(){var o=g();if(o){if(r.value=Math.max(o.responseStart-v(),0),r.value<0||r.value>performance.now())return;r.entries=[o],a(!0),d((function(){r=y("TTFB",0),(a=b(e,r,n,t.reportAllChanges))(!0)}))}}))},H=n(989);function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e,t,n){return t&&B(e.prototype,t),n&&B(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var M="nn-clientId",J="nn-data",F={systemDomLoaded:"system:dom-content-loaded",systemLoad:"system:load",systemUnfocus:"system:unfocus",systemFocus:"system:focus",systemUnload:"system:unload",systemPagehide:"system:page-hide",systemVisibilitychangeVisible:"system:visibility-change-visible",systemVisibilitychangeHidden:"system:visibility-change-hidden",systemEvent:"system:event",systemPerformance:"system:performance",systemWebVitals:"system:cwv",systemPreceding:"system:preceding",appLoad:"app:load",appUnload:"app:unload",appEvent:"app:event",appSurvey:"app:survey",appMarcomSearch:"app:marcom-search"},z={DOMContentLoaded:["trackDomContentLoaded","systemDomLoaded"],load:["trackLoad","systemLoad"],focus:["trackFocus","systemFocus"],blur:["trackUnfocus","systemUnfocus"],unload:["trackUnload","systemUnload"],pagehide:["trackPagehide","systemPagehide"]},U=window.navigator&&window.navigator.sendBeacon&&"function"==typeof window.navigator.sendBeacon,W={source:{value:null,allowOverwrite:!0,type:"string"},endpoint:{value:null,allowOverwrite:!0,type:"string"},appDataSchemaVersion:{value:null,allowOverwrite:!0,type:"string"},clientId:{value:!0,allowOverwrite:!0,type:"boolean"},externalClientId:{value:!0,allowOverwrite:!0,type:"boolean"},batching:{value:U,allowOverwrite:!0,type:"boolean",modifier:function(e){return!(!e||!U)}},batchingInterval:{value:1e4,allowOverwrite:!0,type:"number"},batchingInterruptionEvents:{value:["blur","unload","load","pagehide","visibilitychangeVisible","visibilitychangeHidden"],allowOverwrite:!0,type:"array"},clientIdRotationPeriod:{value:864e5,allowOverwrite:!0,type:"number"},dictionary:{value:null,allowOverwrite:!0,type:"object"},timezoneName:{value:!0,allowOverwrite:!0,type:"boolean"},timezoneOffset:{value:!0,allowOverwrite:!1,type:"boolean"},timestampOffset:{value:!1,allowOverwrite:!0,type:"boolean"},timestampOffsetEndpoint:{value:null,allowOverwrite:!0,type:"string"},trackDomContentLoaded:{value:!0,allowOverwrite:!0,type:"boolean"},trackLoad:{value:!0,allowOverwrite:!0,type:"boolean"},trackFocus:{value:!0,allowOverwrite:!0,type:"boolean"},trackUnfocus:{value:!0,allowOverwrite:!0,type:"boolean"},trackPagehide:{value:!0,allowOverwrite:!0,type:"boolean"},trackUnload:{value:!0,allowOverwrite:!0,type:"boolean"},trackVisibilitychangeVisible:{value:!0,allowOverwrite:!0,type:"boolean"},trackVisibilitychangeHidden:{value:!0,allowOverwrite:!0,type:"boolean"},trackViewportChanges:{value:!0,allowOverwrite:!0,type:"boolean"},trackScrollDepth:{value:!0,allowOverwrite:!0,type:"boolean"},trackTimeOnPage:{value:!0,allowOverwrite:!0,type:"boolean"},trackCWV:{value:!0,allowOverwrite:!0,type:"boolean"},trackSurvey:{value:!1,allowOverwrite:!0,type:"boolean"},trackMarcomSearch:{value:!1,allowOverwrite:!0,type:"boolean"},lateReporting:{value:!0,allowOverwrite:!0,type:"boolean"},inactivityClientIdRotationInterval:{value:18e5,allowOverwrite:!0,type:"number"},reportThrottledPerformanceDataTypes:{value:[F.systemLoad],allowOverwrite:!0,type:"array",modifier:function(e){var t=[];return e.forEach((function(e){Object.keys(F).map((function(e){return F[e]})).indexOf(e)>=0&&t.indexOf(e)<0&&t.push(e)})),t}},performanceDataThrottlingPercentage:{value:10,allowOverwrite:!0,type:"number",modifier:function(e){return e<0?0:e>100?100:e}},reportThrottledWebVitalDataTypes:{value:[F.systemDomLoaded,F.systemLoad,F.systemUnfocus,F.systemFocus,F.systemUnload,F.systemPagehide,F.systemVisibilitychangeVisible,F.systemVisibilitychangeHidden,F.systemEvent,F.appLoad,F.appUnload,F.appEvent],allowOverwrite:!0,type:"array",modifier:function(e){var t=[];return e.forEach((function(e){Object.keys(F).map((function(e){return F[e]})).indexOf(e)>=0&&t.indexOf(e)<0&&t.push(e)})),t}},webVitalDataThrottlingPercentage:{value:100,allowOverwrite:!0,type:"number",modifier:function(e){return e<0?0:e>100?100:e}},trackCookie:{value:!1,allowOverwrite:!0,type:"boolean"},cookieName:{value:"nn_la",allowOverwrite:!0,type:"string"},cookieDomain:{value:".apple.com",allowOverwrite:!0,type:"string"},cookieExpire:{value:864e5,allowOverwrite:!0,type:"number"},urlValidator:{value:null,allowOverwrite:!0,type:"function"},_getValues:function(){var e=this,t={};return Object.keys(this).filter((function(e){return"_getValues"!==e})).forEach((function(n){t[n]=e[n].value})),t}},Q=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"DEFAULT";R(this,e),this.namespace=t,this.shouldLog=!1}return V(e,[{key:"checkLogStatus",value:function(){var e=window.location.search,t=e.indexOf("showNeighborLogs")>0||e.indexOf("log")>0;this.shouldLog=t}},{key:"log",value:function(){if(this.checkLogStatus(),this.shouldLog){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).log.apply(e,["%c".concat(this.namespace,":  "),"color: Gray"].concat(n))}}}]),e}(),Y=new Q("Neighbor"),G=function(){function e(t){var n=t.key,r=t.readOldData,a=t.batching,o=t.maxDataSize,i=void 0===o?6e4:o;R(this,e),this._key=n,this._batching=a,this._readOldData=r,this._rawStore=[],this._chunkedStore=[],this._nonBeacon_HTTPOnly_BackupStore=[],this._maxDataSize=i,this.types={BeaconCHUNK:"chunk",HTTPall:"all"},this.queueTypes={RAW:"raw",CHUNKED:"chunked",HTTPONLY:"httponly",TIMESTAMP:"timestamp"},r&&this._readLocalStorage()}return V(e,[{key:"queueName",value:function(e){switch(e){case this.queueTypes.RAW:return"".concat(this._key,"-raw");case this.queueTypes.CHUNKED:return"".concat(this._key,"-chunked");case this.queueTypes.HTTPONLY:return"".concat(this._key,"-httponly");case this.queueTypes.TIMESTAMP:return"".concat(this._key,"-timestamp");default:return"".concat(this._key,"-raw")}}},{key:"_readLocalStorage",value:function(){var e=localStorage.getItem(this.queueName(this.queueTypes.RAW));this._batching&&e&&e.length>2&&(this._rawStore=JSON.parse(e));var t=localStorage.getItem(this.queueName(this.queueTypes.CHUNKED));this._batching&&t&&t.length>2&&(this._chunkedStore=JSON.parse(t));var n=localStorage.getItem(this.queueName(this.queueTypes.HTTPONLY));!this._batching&&n&&n.length>2&&(this._nonBeacon_HTTPOnly_BackupStore=JSON.parse(n))}},{key:"_updateLocalStorageByConvertingRawToChunked",value:function(){var e=JSON.stringify(this._bundleAllRawToChunks()),t=JSON.stringify(this._rawStore);try{localStorage.setItem(this.queueName(this.queueTypes.RAW),t),localStorage.setItem(this.queueName(this.queueTypes.CHUNKED),e)}catch(e){console.error("Local storage in not avaliable. Most likely Safari Private Mode.",e)}}},{key:"_updateHTTPOnlyBackupLocalStorage",value:function(){var e=JSON.stringify(this._nonBeacon_HTTPOnly_BackupStore);try{localStorage.setItem(this.queueName(this.queueTypes.HTTPONLY),e)}catch(e){console.error("Local storage in not avaliable. Most likely Safari Private Mode.",e)}}},{key:"_updateLocalStorageByAddingTimestamp",value:function(){var e=(new Date).getTime();try{localStorage.setItem(this.queueName(this.queueTypes.TIMESTAMP),e)}catch(e){console.error("Local storage in not avaliable. Most likely Safari Private Mode.",e)}}},{key:"Beaconlength",get:function(){return this._rawStore.length+this._chunkedStore.length}},{key:"HTTPlength",get:function(){return this._nonBeacon_HTTPOnly_BackupStore.length}},{key:"add",value:function(e){this._updateLocalStorageByAddingTimestamp(),this._rawStore.push(e),this._updateLocalStorageByConvertingRawToChunked()}},{key:"removeBeacon",value:function(){this._chunkedStore.shift(),this._updateLocalStorageByConvertingRawToChunked()}},{key:"flushHTTP",value:function(){this._nonBeacon_HTTPOnly_BackupStore=[],this._updateLocalStorageByConvertingRawToChunked(),this._updateHTTPOnlyBackupLocalStorage()}},{key:"_extractSingleChunkFromRawStore",value:function(){for(var e=[],t=0;JSON.stringify(e).length<this._maxDataSize&&t<this._rawStore.length;)e.push(this._rawStore[t]),t++;JSON.stringify(e).length>this._maxDataSize&&(e.pop(),t--);for(var n=0;n<t;n++)this._rawStore.shift();return e}},{key:"_bundleAllRawToChunks",value:function(){for(;JSON.stringify(this._rawStore).length>this._maxDataSize;)this._chunkedStore.push(this._extractSingleChunkFromRawStore());return this._chunkedStore}},{key:"peek",value:function(e){switch(e){case this.types.HTTPall:var t=this._chunkedStore,n=this._extractSingleChunkFromRawStore();return n.length&&t.push(n),this._chunkedStore=[],t.length?(this._nonBeacon_HTTPOnly_BackupStore=t.reduce((function(e,t){return e.concat(t)}),[]),this._updateHTTPOnlyBackupLocalStorage(),this._nonBeacon_HTTPOnly_BackupStore):t;case this.types.BeaconCHUNK:if(0===this._chunkedStore.length){var r=this._extractSingleChunkFromRawStore();return r.length?(this._chunkedStore.push(r),this._chunkedStore[0]):[]}return this._chunkedStore[0];default:return[]}}},{key:"getAllData",value:function(){var e=this._chunkedStore,t=this._extractSingleChunkFromRawStore();t.length&&e.push(t),this._chunkedStore=[];var n=e.reduce((function(e,t){return e.concat(t)}),[]);return e.length&&(this._nonBeacon_HTTPOnly_BackupStore.length?this._nonBeacon_HTTPOnly_BackupStore=this._nonBeacon_HTTPOnly_BackupStore.concat(n):this._nonBeacon_HTTPOnly_BackupStore=n,this._updateHTTPOnlyBackupLocalStorage()),n}},{key:"getChunkData",value:function(){if(0===this._chunkedStore.length){var e=this._extractSingleChunkFromRawStore();return e.length?(this._chunkedStore.push(e),this._chunkedStore[0]):[]}return this._chunkedStore[0]}}]),e}();function K(e,t){return new Promise((function(n,r){var a=new XMLHttpRequest;a.open("POST",e,!0),a.setRequestHeader("Content-Type","text/plain"),a.setRequestHeader("x-apple-osk",t.source),a.send(JSON.stringify(t)),a.onload=function(){if(200===a.status)try{var e=JSON.parse(a.response);n(e)}catch(e){r(e)}else r(a.Error)}}))}function X(){return"undefined"!=typeof localStorage&&"function"==typeof localStorage.getItem}function Z(){return"undefined"!=typeof localStorage&&"function"==typeof localStorage.setItem}function $(e){var t=(new Date).getTime();"undefined"!=typeof performance&&"function"==typeof performance.now&&(t+=performance.now());var n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var n=Math.random();if("undefined"!=typeof crypto&&"function"==typeof crypto.getRandomValues){var r=new Uint32Array(2);crypto.getRandomValues(r),n=parseFloat("".concat(r[0]).concat(r[1]))/1e20}var a=(t+16*n)%16|0;return t=Math.floor(t/16),("x"===e?a:3&a|8).toString(16)}));return e&&(n=n.concat("-",e)),n}function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ne=function(){var e,t=(e={},window.performance?("function"==typeof window.performance.getEntriesByType&&Array.isArray(window.performance.getEntriesByType("navigation"))&&window.performance.getEntriesByType("navigation").length>0?e.page=window.performance.getEntriesByType("navigation")[0]:"object"===i(window.performance.timing)&&(e.page=window.performance.timing),"function"==typeof window.performance.getEntriesByType&&(e.resources=window.performance.getEntriesByType("resource"),e.paint=window.performance.getEntriesByType("paint")),e):e);return Y.log("Performance data collected",t),t},re=function(e){var t=e.config,n=e.state;if(t.trackScrollDepth){var r,a,o=(r=document.body,a=document.documentElement,Math.max(r.scrollHeight,r.offsetHeight,a.clientHeight,a.scrollHeight,a.offsetHeight));n.documentHeight=o,Y.log("Document height updated",n.documentHeight),o<=window.innerHeight&&(n.maxYScroll=window.innerHeight,Y.log("Document height <= window height, scroll depth set to window height"))}};function ae(e){var t=e.config,n=e.key,r={};return n&&"object"===i(t.dictionary)&&"object"===i(t.dictionary[n])?(r=te({},t.dictionary[n]),Y.log("Retrived dictionary data",r)):Y.log("Dictionary or data for given key is not found",n),r}function oe(){var e=(new Date).getTime();return Y.log("Timestamp updated",e),e}function ie(e){var t=e.state,n=e.config;if(n.timestampOffsetEndpoint){var r=(new Date).getTime(),a=r;K(n.timestampOffsetEndpoint,{clientTimestamp:r}).then((function(e){var n=(new Date).getTime();t.clientTimestampOffset=Math.floor(e.offSet-(n-a)/2)}))}}function ce(e){if(!e.config.externalClientId)return null;try{for(var t=null,n=["s_vi","s_fid"],r=0;null===t&&r<n.length;){var a=new RegExp("".concat(n[r],"=([^s;]+)")),o=document.cookie.match(a);o&&o[1]?t=o[1]:r++}return null===t&&Y.log("No Omniture user id found."),Y.log("externalClientId updated",t),t}catch(e){return Y.log("Error occur while trying to find Omniture id.",e),null}}function se(e){var t=e.config;if(!t.clientId)return null;if(X()&&localStorage.getItem(M)){var n=localStorage.getItem(M),r=n.split("-")||[],a=(new Date).getTime(),o=t.clientIdRotationPeriod&&a-r[r.length-1]>t.clientIdRotationPeriod;if(Y.log("Retrivd clientId from the local storage",n),!o)return n}var i=$((new Date).getTime().toString());return Y.log("New clientId is generated",i),Z()&&(localStorage.setItem(M,i),Y.log("ClientId saved to local storage",i)),i}function ue(e){return window.location.search.indexOf("".concat(e,"="))>=0}function le(e){var t=window.location.search,n="",r="".concat(e,"=");return t&&t.length&&t.indexOf(r)>=0&&(n=(t.split(r)[1]||"").split("&")[0],Y.log("".concat(e," query parameter captured"),n)),n}function fe(e){var t=e.config,n=e.eventType,r=e.spec,a=void 0===r?{}:r,o=e.state;if(!n)return Y.log('"eventType" is not specified in gatherData function.'),null;var i={timestamp:!0,url:!0,referrer:!0,eventId:!0,externalClientId:!0,performance:!1,scrollDepth:!0,timeOnPage:!0,webVitals:!1,cid:ue("cid"),caller:ue("caller")};(function(e){var t=e.config,n=e.itemType;return n===F.systemPerformance||!!(100*Math.random()<=t.performanceDataThrottlingPercentage&&t.reportThrottledPerformanceDataTypes.indexOf(n)>=0)})({itemType:n,config:t})&&(i.performance=!0),function(e){var t=e.config,n=e.itemType;return n===F.systemWebVitals||!!(100*Math.random()<=t.webVitalDataThrottlingPercentage&&t.reportThrottledWebVitalDataTypes.indexOf(n)>=0)}({itemType:n,config:t})&&(i.webVitals=!0);var c,s,u={type:n,clientTimestamp:null,url:null,referrer:null,scrollDepth:null,timeOnPage:null,performance:{},cwv:{}};return(i=Object.assign(i,a)).timestamp&&(u.clientTimestamp=t.timestampOffset?oe()+o.clientTimestampOffset:oe()),i.url&&(u.url=(c=window.location.href,Y.log("Page url updated",c),c)),i.referrer&&(u.referrer=(s=document.referrer,Y.log("Page referrer updated",s),s)),i.performance&&(u.performance=ne()),i.webVitals&&(u.cwv=o.cwv||{}),i.scrollDepth&&(re({config:t,state:o}),u.scrollDepth=function(e){var t=e.state;if(!e.config.trackScrollDepth)return null;var n=t.documentHeight>0?t.maxYScroll/t.documentHeight:0;return Y.log("Scroll depth updated",n),parseFloat("".concat(n))}({config:t,state:o})),i.timeOnPage&&(u.timeOnPage=function(e){var t=e.state;if(!e.config.trackTimeOnPage)return null;var n=(new Date).getTime()-t.startTime;return Y.log("Time spent on the page updated",n),n}({config:t,state:o})),i.eventId&&(u.eventId=$()),(i.cid||i.caller)&&(u.page=te(te(te({},u.page),i.cid&&{cid:le("cid")}),i.caller&&{caller:le("caller")})),Y.log("Data prepared",u),u}function pe(e){return document.cookie.split(";").find((function(t){return t.trim().startsWith("".concat(e,"="))}))}function he(e,t){pe(e)&&(document.cookie="".concat(e,"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain=").concat(t))}function de(e){var t=function(e){var t={};return e.forEach((function(e){Object.keys(e).forEach((function(n){t[n]=e[n]}))})),t},n=function e(n,r,a){var o={},c=r;return void 0!==a&&""!==a&&(c=arguments.length>3&&void 0!==arguments[3]&&arguments[3]?"".concat(a,"[").concat(r,"]"):"".concat(a,".").concat(r)),"object"!==i(n)||Array.isArray(n)||null===n?(o[c]=n,o):(Object.keys(n).forEach((function(r){var a=Array.isArray(n),i=e(n[r],r,c,a);o=t([o,i])})),o)};return Array.isArray(e)?e.map((function(e){return n(e)})):n(e)}function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ye=function(e){var t=e.config,n=e.data,r=e.state,a=e.spec,o=void 0===a?{}:a,i=n,c={timestampOffset:t.timestampOffset,timezoneOffset:!0,timezoneName:!0,clientId:!0,externalClientId:!0,techData:!0,viewId:!0,trackSurvey:t.trackSurvey};return c=Object.assign(c,o),t.source?(i={source:t.source,batch:{clientId:se({config:t}),msgId:$(),externalClientId:ce({config:t}),batchClientTimestamp:c.timestampOffset?(new Date).getTime()+r.clientTimestampOffset:(new Date).getTime(),libraryVersion:"1.1.1",appDataSchemaVersion:t.appDataSchemaVersion||"1.0.0"},events:de(JSON.parse(JSON.stringify(n)))},c.timestampOffset&&(i.batch.clientTimestampOffset=r.clientTimestampOffset),c.viewId&&(i.batch.viewId=r.viewId),c.timezoneOffset&&(i.batch.clientTimezoneOffset=function(e){if(!e.config.timezoneOffset)return null;var t=(new Date).getTimezoneOffset();return Y.log("Timezone offset updated",t),t}({config:t})),c.timezoneName&&(i.batch.clientTimezoneName=function(e){if(!e.config.timezoneName)return null;try{var t=Intl.DateTimeFormat().resolvedOptions().timeZone;return Y.log("Timezone name updated",t),t}catch(e){return Y.log("Unable to get timezone name.",e),null}}({config:t})),c.techData&&(i.batch=ve(ve({},i.batch),function(){var e={userAgent:navigator.userAgent,browserVendor:navigator.vendor,cookieEnabled:navigator.cookieEnabled,doNotTrack:navigator.doNotTrack,languages:navigator.languages,connection:navigator.connection||navigator.mozConnection||navigator.webkitConnection,screenWidth:window.innerWidth,screenHeight:window.innerHeight};return Y.log("Technical data collected",e),e}())),c.lateReporting&&(i.batch.lateReporting=!0),c.trackSurvey&&Object.prototype.hasOwnProperty.call(r,"surveyTracking")&&(i.batch.surveyTracking=r.surveyTracking),i):(window.console&&console.error("Required fields `source` missing."),!1)};function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var be=function(){function e(t){var n=t.config,r=t.state;R(this,e),this._config=n,this._state=r,this._queue=new G({key:J,readOldData:n.lateReporting,batching:n.batching})}return V(e,[{key:"_debuggerHook",value:function(e){if("yup"===(window.location.search.split("showNeighborLogs=")[1]||"").split("&")[0])if(Array.isArray(window._neighborHistoryLog)){for(;window._neighborHistoryLog.length>=20;)window._neighborHistoryLog.shift();window._neighborHistoryLog.push(e)}else window._neighborHistoryLog=[],window._neighborHistoryLog.push(e);else if(Array.isArray(window._neighborHistoryLog)){for(;window._neighborHistoryLog.length>=5;)window._neighborHistoryLog.shift();window._neighborHistoryLog.push(e)}else window._neighborHistoryLog=[],window._neighborHistoryLog.push(e)}},{key:"_sendThroughHTTP",value:function(e){var t=this;if(!e||!e.data||0!==e.data.length){var n=0;this._config.timestampOffset&&(n=(new Date).getTime()),K(this._config.endpoint,e).then((function(r){if(Y.log("Data sent to server using http req",e),t._debuggerHook(e),t._config.timestampOffset){var a=(new Date).getTime();t._state.clientTimestampOffset=Math.floor(r.offSet-(a-n)/2)}Object.prototype.hasOwnProperty.call(r,"config")&&(t._config=we(we({},t._config),r.config)),t._config.batching&&t._queue.removeBeacon(),t._queue.flushHTTP(),t._queue.HTTPlength>0&&t._sendThroughHTTP(ye({data:t._queue.peek(t._queue.types.HTTPall),config:t._config,state:t._state}))}))}}},{key:"_sendThroughBeacon",value:function(e){e&&e.data&&0===e.data.length||(navigator.sendBeacon(this._config.endpoint,JSON.stringify(e))?(this._debuggerHook(e),Y.log("Data sent to server using beacon",e),this._queue.removeBeacon(),this._queue.Beaconlength>0&&this._sendThroughBeacon(ye({data:this._queue.peek(this._queue.types.BeaconCHUNK),config:this._config,state:this._state}))):this._sendThroughHTTP(e))}},{key:"_debug",value:function(){return this._queue}},{key:"postDataToNetwork",value:function(e){var t=e.state,n=void 0===t?this._state:t;0!==this._queue.length&&(this._config.batching?this._sendThroughBeacon(ye({data:this._queue.getChunkData(),config:this._config,state:n})):this._sendThroughHTTP(ye({data:this._queue.getAllData(),config:this._config,state:n})))}},{key:"postLateReportingDataToNetwork",value:function(){if(0!==this._queue.length)if(this._config.batching){var e=localStorage.getItem(this._queue.queueName(this._queue.queueTypes.RAW)),t=localStorage.getItem(this._queue.queueName(this._queue.queueTypes.CHUNKED));(t&&t.length>2||e&&e.length>2)&&this._sendThroughBeacon(ye({data:this._queue.getChunkData(),config:this._config,state:this._state,spec:{lateReporting:!0}}))}else{var n=localStorage.getItem(this._queue.queueName(this._queue.queueTypes.HTTPONLY));n&&n.length>2&&this._sendThroughHTTP(ye({data:this._queue._nonBeacon_HTTPOnly_BackupStore,config:this._config,state:this._state,spec:{lateReporting:!0}}))}}},{key:"resetTimer",value:function(e){var t=this,n=e.timer,r=e.state;return clearTimeout(n),setTimeout((function(){t.postDataToNetwork({state:r})}),this._config.batchingInterval)}},{key:"resetTimerWhenRawDataExist",value:function(e){var t=e.timer,n=e.state,r=null,a=localStorage.getItem(this._queue.queueName(this._queue.queueTypes.RAW));return a&&JSON.parse(a).length>0?r=this.resetTimer({timer:t,state:n}):clearTimeout(t),r}},{key:"gatherDataAndPushToQueue",value:function(e){var t=e.eventType,n=e.extraData,r=e.state;if(!this._config.urlValidator||this._config.urlValidator()){var a=fe({config:this._config,eventType:t,state:r});if(a){if(Object.keys(r.page).length>0&&(a.page=we(we({},a.page),r.page)),[F.systemEvent,F.appEvent].indexOf(t)>=0&&(a.component=we({},n),Y.log("Component property has been added to data",JSON.stringify(a.component))),X()&&Z()&&localStorage.getItem("".concat(J,"-timestamp"))){var o=localStorage.getItem("".concat(J,"-timestamp")),i=(new Date).getTime();if(i-o>this._config.inactivityClientIdRotationInterval){var c=$(i.toString());localStorage.setItem(M,c),Y.log("ClientId saved to local storage",c)}}this._queue.add(we({},a)),Y.log("Data added to the queue",JSON.stringify(we({},a)))}else Y.log("Unable to prepare data")}else Y.log("urlValidator found. URL is disabled.")}},{key:"gatherDataAndSetCookie",value:function(e){var t=e.eventType,n=e.extraData,r=e.state;if(!this._config.urlValidator||this._config.urlValidator()){var a=fe({config:this._config,eventType:t,state:r});if(a){Object.keys(r.page).length>0&&(a.page=we(we({},a.page),r.page)),[F.systemEvent,F.appEvent].indexOf(t)>=0&&(a.component=we({},n),Y.log("Component property has been added to data",a));var o=ye({data:[a],config:this._config,state:this._state}),i=JSON.stringify(o),c=new Date;c.setTime(c.getTime()+this._config.cookieExpire),document.cookie="".concat(this._config.cookieName,"=").concat(escape(i),";expires=").concat(c.toGMTString(),";path=/;domain=").concat(this._config.cookieDomain),Y.log("Data is set to the cookie","".concat(this._config.cookieName,"=").concat(i))}else Y.log("Unable to prepare data")}else Y.log("urlValidator found. URL is disabled.")}},{key:"postCookieDataToNetwork",value:function(e){var t=e.payload;this._sendThroughHTTP(t)}},{key:"gatherDataAndPostToNetwork",value:function(e){var t=e.eventType,n=e.extraData,r=e.flushData,a=void 0!==r&&r,o=e.state;this.gatherDataAndPushToQueue({eventType:t,extraData:n,state:o}),this._config.batching&&!a||this.postDataToNetwork({state:o})}},{key:"gatherDataAndResetTimer",value:function(e){var t=e.eventType,n=e.extraData,r=e.state,a=e.timer,o=null;if(this._config.batching){var i=this._config.batchingInterruptionEvents.filter((function(e){return"string"==typeof e})),c=this._config.batchingInterruptionEvents.filter((function(e){return function(e){return e instanceof Object&&e.constructor===Object}(e)}));switch(t){case"app:load":case"app:unload":if(this._config.batchingInterruptionEvents.some((function(e){return"app:load"===e||"app:unload"===e}))){this.gatherDataAndPostToNetwork({eventType:t,flushData:!0,state:r});var s=localStorage.getItem(this._queue.queueName(this._queue.queueTypes.RAW));s&&JSON.parse(s).length>0?o=this.resetTimer({timer:a,state:r}):clearTimeout(a)}else this.gatherDataAndPushToQueue({state:r,eventType:t}),o=this.resetTimer({timer:a,state:r});break;case"app:event":if(i.indexOf("app:event")>=0||c.filter((function(e){return"app:event"===e.type})).some((function(e){return function(e,t){var n=de(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return!!(Object.prototype.hasOwnProperty.call(e,"type")&&e.type===t&&Array.isArray(e.fields)&&e.fields.some((function(e){return!!(Object.prototype.hasOwnProperty.call(e,"path")&&Object.prototype.hasOwnProperty.call(e,"value")&&Object.prototype.hasOwnProperty.call(n,"".concat(e.path))&&n["".concat(e.path)]===e.value)})))}(e,"app:event",n)}))){this.gatherDataAndPostToNetwork({eventType:t,flushData:!0,extraData:n,state:r});var u=localStorage.getItem(this._queue.queueName(this._queue.queueTypes.RAW));u&&JSON.parse(u).length>0?o=this.resetTimer({timer:a,state:r}):clearTimeout(a)}else this.gatherDataAndPushToQueue({state:r,extraData:n,eventType:t}),o=this.resetTimer({timer:a,state:r});break;case"system:performance":if(this._config.batchingInterruptionEvents.indexOf("system:performance")>=0){this.gatherDataAndPostToNetwork({eventType:t,flushData:!0,state:r});var l=localStorage.getItem(this._queue.queueName(this._queue.queueTypes.RAW));l&&JSON.parse(l).length>0?o=this.resetTimer({timer:a,state:r}):clearTimeout(a)}else this.gatherDataAndPushToQueue({state:r,eventType:t}),o=this.resetTimer({timer:a,state:r});break;case"system:cwv":if(this._config.batchingInterruptionEvents.indexOf("system:cwv")>=0){this.gatherDataAndPostToNetwork({eventType:t,flushData:!0,state:r});var f=localStorage.getItem(this._queue.queueName(this._queue.queueTypes.RAW));f&&JSON.parse(f).length>0?o=this.resetTimer({timer:a,state:r}):clearTimeout(a)}else this.gatherDataAndPushToQueue({state:r,eventType:t}),o=this.resetTimer({timer:a,state:r});break;case"app:survey":if(this._config.batchingInterruptionEvents.indexOf("app:survey")>=0){this.gatherDataAndPostToNetwork({eventType:t,flushData:!0,state:r});var p=localStorage.getItem(this._queue.queueName(this._queue.queueTypes.RAW));p&&JSON.parse(p).length>0?o=this.resetTimer({timer:a,state:r}):clearTimeout(a)}else this.gatherDataAndPushToQueue({state:r,eventType:t}),o=this.resetTimer({timer:a,state:r});break;case"app:marcom-search":if(this._config.batchingInterruptionEvents.indexOf("app:marcom-search")>=0){this.gatherDataAndPostToNetwork({eventType:t,flushData:!0,state:r});var h=localStorage.getItem(this._queue.queueName(this._queue.queueTypes.RAW));h&&JSON.parse(h).length>0?o=this.resetTimer({timer:a,state:r}):clearTimeout(a)}else this.gatherDataAndPushToQueue({state:r,eventType:t}),o=this.resetTimer({timer:a,state:r});break;case"system:preceding":if(this._config.batchingInterruptionEvents.indexOf("system:preceding")>=0){this.gatherDataAndPostToNetwork({eventType:t,flushData:!0,state:r});var d=localStorage.getItem(this._queue.queueName(this._queue.queueTypes.RAW));d&&JSON.parse(d).length>0?o=this.resetTimer({timer:a,state:r}):clearTimeout(a)}else this.gatherDataAndPushToQueue({state:r,eventType:t}),o=this.resetTimer({timer:a,state:r})}}else n?this.gatherDataAndPostToNetwork({state:r,extraData:n,eventType:t}):this.gatherDataAndPostToNetwork({state:r,eventType:t});return o}},{key:"action",value:function(e){var t=e.actionData,n=e.dictionaryKey,r=void 0===n?null:n,a=e.timer,o=e.state;if(!o.initialized)return null;var c=null;if(t&&"object"===i(t)){Y.log("App marcom action received",t,r);var s={};r&&(s=ae(r)),c=this.gatherDataAndResetTimer({eventType:F.appEvent,state:o,extraData:Object.assign(s,t),timer:a}),Y.log("Marcom action data collection success",JSON.stringify(Object.assign(s,t)))}else Y.log("Marcom action data should be an object",t);return c}}]),e}();function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Te(e,t,n){var r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t);return Object.keys(e).forEach((function(a){if(a.startsWith("_")||void 0===t[a])n.log("".concat(a," is not a valid config prop."));else if(!0===t[a].allowOverwrite){var o,c,s,u=(o=e[a],c=t[a].type,s=function(e,t){return"array"===t?Array.isArray(e):i(e)===t},"string"==typeof c?s(o,c):!!Array.isArray(c)&&c.some((function(e){return s(e)})));if(u){if("function"==typeof t[a].validator&&!t[a].validator(e[a]))return void n.log("".concat(a," config prop has not passed custom property validation check. Validator: ").concat(t[a].validator,"."));var l=function(e,t){return"object"===i(e)?JSON.stringify(e)===JSON.stringify(t):"function"!=typeof e&&e===t}(e[a],t[a].value);if(l)n.log("".concat(a," config prop value is the same as current config value."));else{if("function"==typeof t[a].modifier){var f=t[a].modifier(e[a]);n.log("".concat(a," user config prop value has been modified by modifier. New value: ").concat(f,". Old value: ").concat(JSON.stringify(r[a]),".")),e[a]=f}n.log("".concat(a," config prop value has been updated. New value: ").concat(e[a],". Old value: ").concat(JSON.stringify(r[a]),".")),r[a]={value:e[a]}}}else n.log("".concat(a," config prop has invalid type. Allowed types: ").concat(t[a].type,"."))}else n.log("".concat(a," config prop is read-only."))})),r}var Oe,ke="1.1.1";function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pe,xe=null,Ee={},Ae={cls:0,fid:0,lcp:0,fcp:0,ttfb:0};function Ne(e){e="string"!=typeof e?JSON.stringify(e):e;try{e=JSON.parse(e)}catch(e){return!1}return"object"===i(e)&&null!==e}function je(){var e={documentHeight:0,maxYScroll:0,startTime:(new Date).getTime(),appLoadHasBeenReported:!1,initialized:!1,page:{},msgId:$(),viewId:$(),clientTimestampOffset:0};Ee=Object.prototype.hasOwnProperty.call(Ee,"cwv")?De({cwv:Ae},e):De({},e),Y.log("Reset state",Ee)}function Le(e){var t=e.cfg,n=e.innerState;clearTimeout(xe),xe=setTimeout((function(){Pe.postDataToNetwork({state:n})}),t.batchingInterval)}function qe(e){var t=e.cfg,n=e.innerState;t.batching?Le({cfg:t,innerState:n}):Pe.postDataToNetwork({state:n})}function Ie(e){var t=e.cfg;t.lateReporting&&Pe.postLateReportingDataToNetwork(),t.trackCookie&&(window.addEventListener("DOMContentLoaded",(function(){var e=(pe(t.cookieName)||"").split("=")[1];e&&Ne(unescape(e))&&Pe.postCookieDataToNetwork({payload:JSON.parse(unescape(e))}),he(t.cookieName,t.cookieDomain)})),window.addEventListener("load",(function(){var e=(pe(t.cookieName)||"").split("=")[1];e&&Ne(unescape(e))&&Pe.postCookieDataToNetwork({payload:JSON.parse(unescape(e))}),he(t.cookieName,t.cookieDomain)}))),["DOMContentLoaded","load","focus","blur","unload","pagehide","visibilitychange"].forEach((function(e){if("visibilitychange"!==e){var n=a(z[e],2),r=n[0],o=n[1];t[r]&&(t.batching?t.batchingInterruptionEvents.indexOf(e)>=0?window.addEventListener(e,(function(){if(Pe.gatherDataAndPushToQueue({state:Ee,eventType:F[o]}),Pe.postDataToNetwork({state:Ee}),xe){var e=localStorage.getItem("".concat(J,"-raw"));e&&JSON.parse(e).length>0?Le({cfg:t,innerState:Ee}):clearTimeout(xe)}})):window.addEventListener(e,(function(){Pe.gatherDataAndPushToQueue({state:Ee,eventType:F[o]}),Le({cfg:t,innerState:Ee})})):window.addEventListener(e,(function(){Pe.gatherDataAndPostToNetwork({state:Ee,eventType:F[o]})})))}else{var i=t.trackVisibilitychangeVisible,c=t.trackVisibilitychangeHidden,s=t.batchingInterruptionEvents.indexOf("visibilitychangeVisible")>=0,u=t.batchingInterruptionEvents.indexOf("visibilitychangeHidden")>=0;(i||c)&&(t.batching?s||u?window.addEventListener(e,(function(){if(i&&"visible"===document.visibilityState)if(s){if(Pe.gatherDataAndPushToQueue({state:Ee,eventType:F.systemVisibilitychangeVisible}),Pe.postDataToNetwork({state:Ee}),xe){var e=localStorage.getItem("".concat(J,"-raw"));e&&JSON.parse(e).length>0?Le({cfg:t,innerState:Ee}):clearTimeout(xe)}}else Pe.gatherDataAndPushToQueue({state:Ee,eventType:F.systemVisibilitychangeVisible}),Le({cfg:t,innerState:Ee});else if(c&&"hidden"===document.visibilityState)if(u){if(Pe.gatherDataAndPushToQueue({state:Ee,eventType:F.systemVisibilitychangeHidden}),Pe.postDataToNetwork({state:Ee}),xe){var n=localStorage.getItem("".concat(J,"-raw"));n&&JSON.parse(n).length>0?Le({cfg:t,innerState:Ee}):clearTimeout(xe)}}else Pe.gatherDataAndPushToQueue({state:Ee,eventType:F.systemVisibilitychangeHidden}),Le({cfg:t,innerState:Ee})})):window.addEventListener(e,(function(){i&&"visible"===document.visibilityState?(Pe.gatherDataAndPushToQueue({state:Ee,eventType:F.systemVisibilitychangeVisible}),Le({cfg:t,innerState:Ee})):c&&"hidden"===document.visibilityState&&(Pe.gatherDataAndPushToQueue({state:Ee,eventType:F.systemVisibilitychangeHidden}),Le({cfg:t,innerState:Ee}))})):window.addEventListener(e,(function(){i&&"visible"===document.visibilityState?Pe.gatherDataAndPostToNetwork({state:Ee,eventType:F.systemVisibilitychangeVisible}):c&&"hidden"===document.visibilityState&&Pe.gatherDataAndPostToNetwork({state:Ee,eventType:F.systemVisibilitychangeHidden})})))}})),function(e){var t=e.cfg;window.addEventListener("unhandledrejection",(function(e){var n,r,a;e&&(r=e.type||"",a=e.reason||"",n=e.target.location?e.target.location.href:""),Pe.gatherDataAndPushToQueue({state:Ee,eventType:F.systemEvent,extraData:{name:"Error",message:a,url:n,error:r}}),Y.log("Unhandled Promise Rejection Error registered"),qe({cfg:t,innerState:Ee})})),window.addEventListener("error",(function(e){var n,r,a,o,i;if(e){if(e.constructor===Event&&e.target.nodeName){switch(e.target.nodeName){case"IMG":o="IMG Resource Error";break;case"LINK":o="CSS Resource Error";break;case"SCRIPT":o="JS Resource Error"}i=e.target.src||"",n=e.target.outerHTML||""}else i=e.filename||"",o=e.error&&"function"==typeof e.error.toString?e.error.toString():"",n=e.message||"";r=e.lineno||0,a=e.colno||0}Pe.gatherDataAndPushToQueue({state:Ee,eventType:F.systemEvent,extraData:{name:"Error",message:n,url:i,lineno:r,colno:a,error:o}}),Y.log("Error registered"),qe({cfg:t,innerState:Ee})}),!0),Y.log("Errors tracking started")}({cfg:t}),{cfg:t}.cfg.trackScrollDepth&&1!==Ee.maxYScroll&&(window.addEventListener("scroll",(function(){var e=window.scrollY+window.innerHeight;e>Ee.maxYScroll&&(Ee.maxYScroll=e,Y.log("Maximun Y scroll distance updated",e))})),Y.log("Scroll tracking started")),function(e){var t=e.cfg;t.trackViewportChanges&&(window.addEventListener("resize",(function(){Pe.gatherDataAndPushToQueue({state:Ee,eventType:F.systemEvent,extraData:{name:"Viewport changed",width:window.innerWidth,height:window.innerHeight}}),Y.log("Viewport changed"),qe({cfg:t,innerState:Ee})})),Y.log("Viewport change tracking started"))}({cfg:t}),t.trackMarcomSearch&&(function(){try{window.nn_analytics=window.nn_analytics||{};var e=document.getElementById("ac-gn-link-search"),t=document.getElementById("ac-gn-searchform-input"),n=window._satellite&&"function"==typeof window._satellite.getVar,r=function(e){for(var t=document.getElementById("ac-gn-searchresults").getElementsByTagName("li"),n=1;n>0&&t[n-1].textContent.trim().toLowerCase()!==e;)n++;return n},a=function(e,t){var a=e.textContent.trim().toLowerCase(),o=e.getAttribute("href").toLowerCase();window._applemd.search={location:"globalnav_support",link_type:t,dest_url:o,link_text:a,link_index:r(a),dest_platform:n?window._satellite.getVar("FN:Get_Link_Dest_Platform")(o):""}};e&&!e.getAttribute("nn-data-analytics-listener-added")&&(e.setAttribute("nn-data-analytics-listener-added","true"),e.addEventListener("mousedown",(function(){window._applemd.search={name:"click-mag-glass",link_type:"acs",link_text:"internal search"},xe=Pe.action({actionData:{search:window._applemd.search},timer:xe,state:Ee})}))),window.nn_analytics.document_listener_added||(window.nn_analytics.document_listener_added=!0,document.addEventListener("mousedown",(function(e){!function(e){Y.log("link selected event");var t=e.target;"A"!==t.tagName&&"A"===t.parentElement.tagName&&(t=t.parentElement),t.classList.contains("ac-gn-searchresults-link")&&!t.classList.contains("ac-gn-searchresults-link-suggestions")?(a(t,"quicklink"),xe=Pe.action({actionData:{search:window._applemd.search},timer:xe,state:Ee})):t.classList.contains("ac-gn-searchresults-link-suggestions")&&(a(t,"suggested search"),xe=Pe.action({actionData:{search:window._applemd.search},timer:xe,state:Ee}))}(e)}))),t&&!t.getAttribute("nn-data-analytics-key-listener-added")&&t.addEventListener("keydown",(function(e){if(t.setAttribute("nn-data-analytics-key-listener-added","true"),13===e.keyCode||"Enter"===e.key){var r=t.value.trim().toLowerCase();r&&(window._applemd.search={location:"globalnav_support",link_type:"user",link_text:r,dest_url:"https://support.apple.com/kb/index",dest_platform:n?window._satellite.getVar("FN:Get_Link_Dest_Platform")("https://support.apple.com/kb/index"):""},Pe.action({search:window._applemd.search}))}}))}catch(e){Y.log("marcomSearch data collection failed")}}(),function(){try{!function(){for(var e=document.querySelectorAll("#ac-globalnav a"),t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"data-analytics-title";try{if(window._applemd.component={dest_url:e.target.href||e.target.parentNode.href||"",link_text:(e.target.getAttribute(t)||"").trim().toLowerCase(),type:"simple link"},!window._applemd.component.link_text&&window._applemd.component.dest_url){var n=window._applemd.component.dest_url.split("/"),r=n.length;window._applemd.component.link_text=n[r-1]?n[r-1]:n[r-2]}xe=Pe.action({actionData:{component:window._applemd.component},timer:xe,state:Ee})}catch(e){Y.log("marcom link data collection failed",e)}},n=0;n<e.length;n++){var r=e[n];-1===r.id.indexOf("search")&&-1===r.id.indexOf("menuanchor")&&r.addEventListener("mousedown",(function(e){t(e)}))}}()}catch(e){Y.log("marcom link tracking failed",e)}}()),t.trackSurvey&&window.location.pathname.includes("/online-support-survey")&&window.addEventListener("submit",(function(){if(Ee.initialized){var e=document.querySelectorAll("[data-analytics-question-id]");if(e.length>0){var t={survey_p2:"acs:survey",survey_v108:"acs:survey"},n="ss";e.forEach((function(e,r){var a=e.getAttribute("data-analytics-question-id");switch(a){case"sat":for(var o=!0,i=e.getElementsByTagName("input"),c=0;c<i.length;c++)if(i[c].checked){var s=i[c].getAttribute("data-analytics-res-id");t.survey_p2+="::1=".concat(s),t.survey_v108+="::q1".concat(n,"n_").concat(a,"=r").concat(c+1,"_").concat(s),o=!1}o&&(t.survey_p2+="::1=null",t.survey_v108+="::q1".concat(n,"n_").concat(a,"=null"));break;case"whysat":for(var u=!0,l=e.getElementsByTagName("input"),f=0;f<l.length;f++){var p=l[f].getAttribute("data-analytics-res-id");l[f].checked&&(t.survey_v28?(t.survey_v28+=",".concat(l[f].getAttribute("data-analytics-res-id")),t.survey_v108+=",r".concat(f+1,"_").concat(p)):(t.survey_v28="acs:survey::1whysat=".concat(l[f].getAttribute("data-analytics-res-id")),t.survey_v108+="::q2".concat("ms","n_").concat(a,"=r").concat(f+1,"_").concat(p)),u=!1)}u&&(t.survey_v28="acs:survey::1whysat=null",t.survey_v108+="::q2".concat("ms","n_").concat(a,"=null"));break;case"prod":for(var h=!0,d=e.getElementsByTagName("input"),g=0;g<d.length;g++)if(d[g].checked){var v=d[g].getAttribute("data-analytics-res-id");t.survey_p2+="::2=".concat(v),t.survey_v108+="::q3".concat(n,"n_").concat(a,"=r").concat(g+1,"_").concat(v),h=!1}h&&(t.survey_p2+="::2=null",t.survey_v108+="::q3".concat(n,"n_").concat(a,"=null"));break;case"reas":for(var y=!0,m=e.getElementsByTagName("input"),w=0;w<m.length;w++)if(m[w].checked){var b=m[w].getAttribute("data-analytics-res-id");t.survey_p2+="::3=".concat(b),t.survey_v108+="::q4".concat(n,"n_").concat(a,"=r").concat(w+1,"_").concat(b),y=!1}y&&(t.survey_p2+="::3=null",t.survey_v108+="::q4".concat(n,"n_").concat(a,"=null"));break;case"intent":for(var _=!0,T=e.getElementsByTagName("input"),O=0;O<T.length;O++)if(T[O].checked){var k=T[O].getAttribute("data-analytics-res-id");t.survey_p2+="::4=".concat(k),t.survey_v108+="::q5".concat(n,"n_").concat(a,"=r").concat(O+1,"_").concat(k),_=!1}_&&(t.survey_p2+="::4=null",t.survey_v108+="::q5".concat(n,"n_").concat(a,"=null"));break;case"refer":for(var S=!0,D=e.getElementsByTagName("input"),P=0;P<D.length;P++)if(D[P].checked){var x=D[P].getAttribute("data-analytics-res-id");t.survey_p2+="::5=".concat(x),t.survey_v108+="::q6".concat(n,"n_").concat(a,"=r").concat(P+1,"_").concat(x),S=!1}S&&(t.survey_p2+="::5=null",t.survey_v108+="::q6".concat(n,"n_").concat(a,"=null"));break;default:Y.log("Question not match")}})),Ee.surveyTracking=De({},t),xe=Pe.gatherDataAndResetTimer({eventType:F.appSurvey,state:Ee,timer:xe})}}})),Ee.initialized=!0,Y.log("intializing state to true")}"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1;r<arguments.length;r++){var a=arguments[r];if(null!=a)for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])}return n},writable:!0,configurable:!0}),"function"!=typeof Promise&&(0,H.polyfill)();var Ce={version:ke,q:function(){return{state:Ee,queueManager:Pe}},init:function(t){return(n=p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Y.log("configData: ",t),Y.log("version: ",ke),String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{value:function(e,t){var n=t>0?0|t:0;return this.substring(n,n+e.length)===e}}),Oe=Te(t,W,Y)._getValues(),Y.log("Configuration updated. Final config:",Oe),Oe.endpoint||window.console&&console.error("Required parameter `endpoint` is not configured. Initialization has been terminated."),Oe.source||window.console&&console.error("Required parameter `source` is not configured. Initialization has been terminated."),je(),Pe=new be({config:Oe,state:Ee}),Oe.timestampOffset&&ie({state:Ee,config:Oe}),Oe.trackCWV&&(Ee.cwv=Ae,function(e,t){t=t||{};var n=[.1,.25];D||(S((function(e){P=e.value})),D=!0);var r,a=function(e){P>-1&&function(e){Ae.cls=e.value}(e)},o=y("CLS",0),i=0,c=[],s=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=c[0],n=c[c.length-1];i&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(i+=e.value,c.push(e)):(i=e.value,c=[e]),i>o.value&&(o.value=i,o.entries=c,r())}}))},u=m("layout-shift",s);u&&(r=b(a,o,n,t.reportAllChanges),w((function(){s(u.takeRecords()),r(!0)})),d((function(){i=0,P=-1,o=y("CLS",0),r=b(a,o,n,t.reportAllChanges)})))}(),function(e,t){t=t||{};var n,r=[100,300],a=k(),o=y("FID"),i=function(e){e.startTime<a.firstHiddenTime&&(o.value=e.processingStart-e.startTime,o.entries.push(e),n(!0))},u=function(e){e.forEach(i)},f=m("first-input",u);n=b(e,o,r,t.reportAllChanges),f&&w((function(){u(f.takeRecords()),f.disconnect()}),!0),f&&d((function(){var a;o=y("FID"),n=b(e,o,r,t.reportAllChanges),l=[],s=-1,c=null,L(addEventListener),a=i,l.push(a),N()}))}((function(e){Ae.fid=e.value})),function(e,t){t=t||{};var n,r=[2500,4e3],a=k(),o=y("LCP"),i=function(e){var t=e[e.length-1];if(t){var r=t.startTime-v();r<a.firstHiddenTime&&(o.value=r,o.entries=[t],n())}},c=m("largest-contentful-paint",i);if(c){n=b(e,o,r,t.reportAllChanges);var s=function(){q[o.id]||(i(c.takeRecords()),c.disconnect(),q[o.id]=!0,n(!0))};["keydown","click"].forEach((function(e){addEventListener(e,s,{once:!0,capture:!0})})),w(s,!0),d((function(a){o=y("LCP"),n=b(e,o,r,t.reportAllChanges),requestAnimationFrame((function(){requestAnimationFrame((function(){o.value=performance.now()-a.timeStamp,q[o.id]=!0,n(!0)}))}))}))}}((function(e){Ae.lcp=e.value})),S((function(e){Ae.fcp=e.value})),C((function(e){Ae.ttfb=e.value}))),Ie({cfg:Oe});case 12:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(a,o){var i=n.apply(t,r);function c(t){e(i,a,o,c,s,"next",t)}function s(t){e(i,a,o,c,s,"throw",t)}c(void 0)}))})();var n},load:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(Y.log("Load call: ",Ee),Ee.initialized){var n=(pe(Oe.cookieName)||"").split("=")[1];if(n&&Ne(unescape(n))&&Pe.postCookieDataToNetwork({payload:JSON.parse(unescape(n))}),he(Oe.cookieName,Oe.cookieDomain),e&&"object"===i(e)){Y.log("App load received",e,t),Ee.appLoadHasBeenReported&&(xe=Pe.gatherDataAndResetTimer({eventType:F.appUnload,state:Ee,timer:xe}),je(),Ee.initialized=!0);var r={};t&&(r=ae(t)),Ee.appLoadHasBeenReported=!0,Ee.page=Object.assign(r,e),xe=Pe.gatherDataAndResetTimer({eventType:F.appLoad,state:Ee,timer:xe})}else Y.log("Page data should be an object",e)}},action:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(Ee.initialized)if(e&&"object"===i(e)){Y.log("App action received",e,t);var n={};t&&(n=ae(t)),xe=Pe.gatherDataAndResetTimer({eventType:F.appEvent,state:Ee,extraData:Object.assign(n,e),timer:xe})}else Y.log("Action data should be an object",e)},lastAction:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(Ee.initialized&&Oe.trackCookie)if(e&&"object"===i(e)){Y.log("App last action received",e,t);var n={};t&&(n=ae(t)),Pe.gatherDataAndSetCookie({eventType:F.appEvent,state:Ee,extraData:De(De({},Object.assign(n,e)),{},{name:"Preceding Action"})})}else Y.log("Action data should be an object",e)},performance:function(){Ee.initialized&&(xe=Pe.gatherDataAndResetTimer({eventType:F.systemPerformance,state:Ee,timer:xe}))},cwv:function(){Ee.initialized&&(Object.prototype.hasOwnProperty.call(Ee,"cwv")||(Ee.cwv=Ae),xe=Pe.gatherDataAndResetTimer({eventType:F.systemWebVitals,state:Ee,timer:xe}))},marcomSearch:function(){Ee.initialized&&(xe=Pe.gatherDataAndResetTimer({eventType:F.appMarcomSearch,state:Ee,timer:xe}))}}}(),r}()}));